<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-19RP0D764T"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-19RP0D764T');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- ===== OPTIMIZED TITLE & META DESCRIPTION ===== -->
    <title>Daily Wallpaper Cup ‚Äì Vote, Download & Hall of Fame</title>
    <meta name="description" content="4 fresh AI wallpapers every day. Vote for your favorite, download free, play puzzle, and see past winners. New winner crowned daily at midnight UTC.">
    <meta name="keywords" content="daily wallpaper, vote wallpaper, download AI art, wallpaper ranking, daily cup, top wallpaper today, 4k free, wallpaper puzzle, hall of fame">
    <meta name="author" content="wallrank.club">
    <link rel="canonical" href="https://wallrank.club">
    <meta property="og:title" content="Daily Wallpaper Cup ‚Äì Vote & Hall of Fame">
    <meta property="og:description" content="Every day: 4 fresh AI wallpapers. Vote, download, play puzzle, view on 3D devices. Join the Hall of Fame.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wallrank.club">
    <meta property="og:image" content="https://wallrank.club/og-daily.jpg">
    <meta name="twitter:card" content="summary_large_image">
    
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* ---------- PREMIUM COZY DESIGN ‚Äì FULLY RESPONSIVE ---------- */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Quicksand', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(145deg, #fffaf5 0%, #fff7f0 100%);
            color: #2e2a28;
            padding: 20px 16px;
            line-height: 1.5;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            position: relative;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle at 20% 30%, rgba(255, 215, 215, 0.03) 0%, transparent 30%),
                              radial-gradient(circle at 80% 70%, rgba(255, 200, 150, 0.03) 0%, transparent 40%);
            pointer-events: none;
            z-index: 0;
        }
        .container { max-width: 1300px; width: 100%; position: relative; z-index: 2; }
        
        /* top bar */
        .top-bar {
            display: flex; flex-wrap: wrap; align-items: center; justify-content: space-between;
            background: rgba(255,248,240,0.8); backdrop-filter: blur(10px);
            padding: 14px 20px; border-radius: 60px; margin-bottom: 16px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.02), inset 0 0 0 1px rgba(255,255,255,0.7);
            border: 1px solid rgba(255,245,235,0.6);
        }
        .whats-this-btn {
            background: linear-gradient(145deg, #ff7b5c, #ff6b4a);
            border: none; color: white; font-weight: 600; font-size: 0.95rem;
            padding: 10px 20px; border-radius: 50px; cursor: pointer;
            display: flex; align-items: center; gap: 8px;
            box-shadow: 0 6px 0 #b3472e, 0 8px 16px rgba(255,107,74,0.2);
            transition: 0.1s; border: 1px solid rgba(255,255,255,0.3);
        }
        .whats-this-btn:active { transform: translateY(6px); box-shadow: 0 1px 0 #b3472e, 0 8px 16px rgba(255,107,74,0.2); }
        .countdown-block {
            background: rgba(255,255,255,0.7); backdrop-filter: blur(8px);
            padding: 6px 18px; border-radius: 50px; font-weight: 600;
            display: flex; align-items: center; gap: 8px;
            border: 1px solid rgba(255,215,200,0.5); font-size: 0.9rem;
        }
        .countdown-number {
            background: #2e1f1c; color: #fff5e6; padding: 5px 12px;
            border-radius: 30px; font-size: 1.2rem; font-weight: 700;
            font-variant-numeric: tabular-nums; box-shadow: inset 0 -2px 0 #5a3f39;
        }
        .winner-note { font-size: 0.85rem; color: #6b4b3e; font-weight: 600; }

        /* value proposition */
        .value-prop {
            background: linear-gradient(145deg, #ffede3, #ffe6d9);
            border-radius: 60px; padding: 12px 20px; margin: 0 0 24px 0;
            text-align: center; border: 1px solid #ffc6ad;
            box-shadow: 0 5px 0 #d6957b, 0 6px 14px rgba(0,0,0,0.02);
            font-size: 1rem; font-weight: 600; color: #4a342e;
            display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap;
        }
        .value-prop span {
            background: #ff7b5c; color: white; padding: 5px 14px;
            border-radius: 50px; font-size: 0.8rem; font-weight: 700;
        }

        /* ----- CONTEST BANNER ----- */
        .contest-banner {
            background: linear-gradient(145deg, #ffe0c0, #ffd2b0);
            border-radius: 50px; padding: 12px 24px; margin-bottom: 30px;
            display: flex; align-items: center; justify-content: center; gap: 16px;
            flex-wrap: wrap; border: 2px solid #ff9f7c; box-shadow: 0 6px 0 #c47a5e;
        }
        .contest-text { font-weight: 700; color: #593c34; font-size: 1.1rem; display: flex; align-items: center; gap: 10px; }
        .contest-btn {
            background: #ff7b5c; color: white; border: none;
            padding: 10px 28px; border-radius: 60px; font-weight: 700;
            font-size: 0.95rem; box-shadow: 0 5px 0 #b3472e; cursor: pointer;
            transition: 0.06s; border: 1px solid rgba(255,255,255,0.3);
        }
        .contest-btn:active { transform: translateY(5px); box-shadow: 0 1px 0 #b3472e; }

        /* headlines */
        .daily-headline { text-align: center; margin-bottom: 24px; }
        .daily-headline h2 {
            font-size: 1.9rem; font-weight: 700; color: #2c1e1a;
            letter-spacing: -0.02em; cursor: pointer; transition: 0.2s;
        }
        .daily-headline h2:hover { opacity: 0.8; }
        .daily-headline p {
            font-size: 1.1rem; background: linear-gradient(145deg, #fff0e5, #ffe8dd);
            display: inline-block; padding: 6px 24px; border-radius: 50px;
            color: #a84c3a; font-weight: 600; margin-top: 6px;
        }

        /* wallpaper grid ‚Äì responsive */
        .wallpaper-grid {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;
            margin: 30px 0 30px;
        }
        @media (max-width: 900px) {
            .wallpaper-grid { grid-template-columns: repeat(2, 1fr); gap: 16px; }
            .top-bar { flex-direction: column; gap: 12px; align-items: stretch; }
        }
        @media (max-width: 550px) {
            .wallpaper-grid { grid-template-columns: 1fr; gap: 20px; }
        }
        .wall-card {
            background: white; border-radius: 24px; overflow: hidden;
            border: 1px solid rgba(255,230,210,0.8);
            box-shadow: 0 12px 24px -10px rgba(0,0,0,0.04);
            transition: 0.2s; display: flex; flex-direction: column;
        }
        .wall-card:hover { transform: translateY(-4px); border-color: #ffb08c; }
        .wall-card.leader-gold {
            border: 2px solid #ffd700; box-shadow: 0 12px 24px -8px rgba(255,215,0,0.2);
            animation: softShimmer 2s infinite alternate;
        }
        @keyframes softShimmer {
            from { box-shadow: 0 0 0 1px rgba(255,215,0,0.3); }
            to { box-shadow: 0 0 12px 2px rgba(255,215,0,0.5); }
        }
        .wall-card.leader-gold .img-container::after {
            content: "üëë"; position: absolute; top: 8px; right: 12px;
            font-size: 2.4rem; text-shadow: 2px 2px 0 rgba(0,0,0,0.1); z-index: 2;
        }
        .img-container {
            width: 100%; aspect-ratio: 4 / 5; background: #ffe8e0; position: relative;
        }
        .img-container img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .card-content { padding: 16px 14px 18px; background: white; display: flex; flex-direction: column; gap: 12px; }
        .wall-title { font-weight: 700; font-size: 1.1rem; color: #3a2c28; }
        .stats {
            display: flex; justify-content: space-between; color: #8a6a5b;
            font-weight: 600; font-size: 0.9rem; background: #fff6f0;
            padding: 8px 14px; border-radius: 30px; border: 1px solid #ffe6d9;
        }
        .button-group { display: flex; gap: 8px; flex-wrap: wrap; }
        .btn {
            flex: 1 1 auto; border: none; background: #fbe9e7; border-radius: 50px;
            padding: 10px 0; font-weight: 600; font-size: 0.85rem;
            display: flex; align-items: center; justify-content: center; gap: 5px;
            color: #3b2c28; border: 1px solid #ffd6c2; box-shadow: 0 4px 0 #d28b70;
            transition: 0.05s; cursor: pointer;
        }
        .btn:active { transform: translateY(4px); box-shadow: 0 1px 0 #b16d56; }
        .btn-vote { background: linear-gradient(145deg, #ffdbb5, #ffd0a5); border-color: #ffa558; color: #441f17; }
        .btn-download { background: linear-gradient(145deg, #c7e9d0, #b8e0c4); border-color: #6eb5a4; color: #1e4a44; box-shadow: 0 4px 0 #518b7e; }
        .btn-devices {
            background: linear-gradient(145deg, #e9d9ff, #decaff);
            border-color: #b794f4; color: #3a2c5a; box-shadow: 0 4px 0 #8f6bb3;
        }

        /* reaction emoji */
        .reaction-emoji {
            font-size: 2.2rem; position: absolute; pointer-events: none;
            animation: floatUp 0.8s ease-out forwards; z-index: 999;
        }
        @keyframes floatUp {
            0% { opacity: 1; transform: translateY(0) scale(0.8); }
            100% { opacity: 0; transform: translateY(-60px) scale(1.5); }
        }

        /* ---------- WINNER OF THE WEEK ‚Äì HIGHLIGHT ---------- */
        .winner-week-section {
            background: rgba(255, 235, 220, 0.7); backdrop-filter: blur(8px);
            border-radius: 48px; padding: 24px; margin: 30px 0 20px;
            border: 2px solid #ffd700; box-shadow: 0 10px 0 #b8860b, 0 0 30px rgba(255,215,0,0.2);
        }
        .winner-week-title {
            display: flex; align-items: center; gap: 12px; margin-bottom: 16px;
        }
        .winner-week-title h3 { font-size: 1.7rem; font-weight: 700; color: #2c1e1a; }
        .winner-week-badge {
            background: #ffd700; color: #3a2c2a; padding: 4px 16px;
            border-radius: 50px; font-weight: 700; border: 2px solid white;
        }
        .winner-week-card {
            display: flex; align-items: center; gap: 24px; flex-wrap: wrap;
        }
        .winner-week-thumb {
            width: 120px; height: 150px; border-radius: 20px;
            overflow: hidden; border: 4px solid white; box-shadow: 0 8px 0 #b8860b;
        }
        .winner-week-thumb img { width: 100%; height: 100%; object-fit: cover; }
        .winner-week-info { display: flex; flex-direction: column; gap: 8px; }
        .winner-week-name { font-size: 1.8rem; font-weight: 800; color: #4a2e28; }
        .winner-week-date {
            font-size: 1.1rem; color: #6b4b3e; background: rgba(255,255,255,0.5);
            padding: 6px 18px; border-radius: 40px; border: 1px solid #ffad8a;
        }

        /* ---------- WINNER HISTORY ‚Äì HALL OF FAME ---------- */
        .winner-history-section {
            margin-top: 40px; margin-bottom: 30px;
            background: rgba(255,245,235,0.5); backdrop-filter: blur(8px);
            border-radius: 40px; padding: 24px 20px;
            border: 1px solid rgba(255,220,200,0.5);
        }
        .history-header {
            display: flex; align-items: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;
        }
        .history-header h3 { font-size: 1.6rem; font-weight: 700; color: #2c1e1a; }
        .history-header span {
            background: #ffdbb5; padding: 5px 14px; border-radius: 40px;
            font-size: 0.8rem; font-weight: 600; color: #6b3a2a; border: 1px solid #ffad8a;
        }
        .winners-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 16px;
        }
        .winner-item {
            background: white; border-radius: 20px; padding: 12px;
            box-shadow: 0 6px 14px -4px rgba(0,0,0,0.02), 0 0 0 1px rgba(255,230,210,0.6);
            transition: 0.2s; display: flex; flex-direction: column; align-items: center; text-align: center;
        }
        .winner-item:hover { transform: translateY(-4px); }
        .winner-thumb {
            width: 100%; aspect-ratio: 4 / 5; border-radius: 12px;
            overflow: hidden; margin-bottom: 8px; border: 2px solid #fff;
        }
        .winner-thumb img { width: 100%; height: 100%; object-fit: cover; }
        .winner-title { font-weight: 700; color: #4e3a33; font-size: 0.9rem; margin-bottom: 4px; }
        .winner-date {
            font-size: 0.7rem; color: #8a6a5b; background: #fff0e5;
            padding: 3px 10px; border-radius: 30px; display: inline-block;
        }
        .empty-history {
            text-align: center; padding: 30px 20px; color: #8a6a5b;
            background: rgba(255,255,255,0.4); border-radius: 30px;
            border: 1px dashed #ffc6ad;
        }

        /* footer */
        .footer-links {
            margin-top: 50px; padding: 30px 16px 24px;
            border-top: 2px solid rgba(255,200,180,0.4);
            display: flex; flex-wrap: wrap; justify-content: center; gap: 24px;
            font-size: 0.85rem; background: rgba(255,248,240,0.5);
            border-radius: 40px 40px 0 0; backdrop-filter: blur(8px);
        }
        .footer-links a {
            text-decoration: none; color: #65433b; font-weight: 600;
            border-bottom: 2px dotted #ffa777; cursor: pointer;
        }
        .footer-links a:hover { color: #c14325; }
        .copyright {
            width: 100%; text-align: center; color: #8c6c62;
            margin-top: 20px; font-size: 0.75rem;
        }

        /* popups */
        .info-popup {
            display: none; background: rgba(255,250,245,0.98); backdrop-filter: blur(12px);
            border: 5px solid #ffb08c; border-radius: 36px; padding: 28px 20px;
            max-width: 380px; width: 90%; box-shadow: 0 20px 30px -10px rgba(168,98,75,0.2);
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            z-index: 3000; text-align: center;
        }
        .info-popup.show { display: block; }
        .close-popup {
            float: right; font-size: 2rem; background: none; border: none;
            cursor: pointer; color: #a8624b; padding: 0 8px;
        }
        .close-popup:active { transform: translateY(3px); }
        .winner-badge { background: #ffdbb5; padding: 4px 10px; border-radius: 30px; font-size: 0.75rem; font-weight: 700; }

        /* puzzle button */
        .puzzle-launch {
            display: flex; justify-content: center; margin: 20px 0 16px;
        }
        .puzzle-btn {
            background: linear-gradient(145deg, #ffd0b5, #ffc2a2);
            border: 1px solid #fff; color: #4a312a; font-size: 1.2rem;
            font-weight: 700; padding: 14px 32px; border-radius: 100px;
            box-shadow: 0 10px 0 #a8624b, 0 12px 24px rgba(200,130,80,0.2);
            display: flex; align-items: center; gap: 12px; transition: 0.06s;
            cursor: pointer; border: 2px solid rgba(255,255,255,0.6);
        }
        .puzzle-btn:active { transform: translateY(10px); box-shadow: 0 2px 0 #8f4e3a; }
        .puzzle-btn span { font-size: 1.8rem; }

        /* ---------- PUZZLE OVERLAY ‚Äì FULLY TOUCH FRIENDLY ---------- */
        .puzzle-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(5px); z-index: 2000;
            display: none; justify-content: center; align-items: center; padding: 16px;
        }
        .puzzle-overlay.active { display: flex; }
        .puzzle-card {
            background: #fff9f0; border-radius: 48px 48px 32px 32px; padding: 24px 20px;
            max-width: 600px; width: 100%; border: 5px solid #ffc6ad;
            box-shadow: 0 15px 0 #a8624b; text-align: center; max-height: 90vh; overflow-y: auto;
        }
        .puzzle-title { font-size: 1.8rem; font-weight: 700; color: #402b24; margin-bottom: 16px; }
        .puzzle-selector {
            display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin: 20px 0;
        }
        .puzzle-thumb {
            width: 80px; height: 80px; border-radius: 18px;
            border: 4px solid #ffd8bf; box-shadow: 0 5px 0 #b37b66;
            cursor: pointer; transition: 0.1s;
        }
        .puzzle-thumb:hover { transform: scale(1.05); }
        .puzzle-thumb img { width: 100%; height: 100%; object-fit: cover; border-radius: 12px; }
        .puzzle-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 2px;
            width: 100%; max-width: 300px; height: auto; aspect-ratio: 1/1;
            margin: 16px auto; background: #ffe8dd; padding: 2px;
            border: 3px solid #ffad8a; box-shadow: 0 8px 0 #b37b66; border-radius: 8px;
        }
        .puzzle-piece {
            width: 100%; height: 100%; background-color: #ffe3d6;
            border-radius: 4px; border: 1px solid rgba(255,255,255,0.3);
            background-size: 300% 300%; background-repeat: no-repeat;
            cursor: grab; touch-action: none; user-select: none;
        }
        .puzzle-piece:active { cursor: grabbing; }
        .celebration-8s {
            background: linear-gradient(145deg, #ffeaa5, #ffd48a);
            padding: 20px 16px; border-radius: 60px; font-size: 1.8rem;
            margin: 16px 0; border: 6px solid #fff1b5;
            animation: dance 0.6s infinite alternate; box-shadow: 0 0 20px #ffb347;
        }
        @keyframes dance {
            from { transform: scale(1) rotate(-1deg); }
            to { transform: scale(1.1) rotate(2deg); }
        }
        .btn-small {
            background: #ffe0b5; padding: 10px 20px; border-radius: 40px;
            border: 3px solid #ffad8a; font-weight: 700; margin: 6px;
            box-shadow: 0 4px 0 #b37b66; cursor: pointer; font-size: 0.9rem;
        }
        .btn-small:active { transform: translateY(4px); box-shadow: 0 1px 0 #b37b66; }
        .signature-input {
            border: 3px dashed #ffad8a; border-radius: 50px; padding: 10px 18px;
            font-size: 1rem; width: 90%; margin: 12px 0; text-align: center;
            font-family: 'Quicksand', cursive;
        }

        /* admin panel */
        .admin-panel {
            display: none; background: rgba(255,255,255,0.95); border-radius: 32px;
            padding: 24px; margin-top: 30px; border: 3px solid #ffad8a;
            box-shadow: 0 10px 0 #b37b66;
        }
        .admin-panel.show { display: block; }
        .admin-title { font-size: 1.4rem; font-weight: 700; margin-bottom: 16px; }
        .admin-input {
            width: 100%; padding: 10px; margin-bottom: 12px;
            border: 2px solid #ffad8a; border-radius: 30px;
            font-family: 'Quicksand', sans-serif;
        }
        .admin-btn {
            background: #ff7b5c; color: white; border: none;
            padding: 10px 24px; border-radius: 60px; font-weight: 700;
            box-shadow: 0 5px 0 #b3472e; cursor: pointer; margin: 5px;
        }
        .admin-btn:active { transform: translateY(5px); box-shadow: 0 1px 0 #b3472e; }

        /* ---------- 4 DEVICES CAROUSEL ‚Äì FULL MOCKUPS ---------- */
        .devices-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(6px); z-index: 4000;
            display: none; justify-content: center; align-items: center; padding: 16px;
        }
        .devices-overlay.active { display: flex; }
        .devices-container {
            max-width: 700px; width: 100%;
            background: #fff9f0; border-radius: 48px 48px 32px 32px; padding: 24px 16px;
            border: 5px solid #ffc6ad; box-shadow: 0 15px 0 #a8624b;
            text-align: center;
        }
        .devices-title { font-size: 1.6rem; font-weight: 700; color: #402b24; margin-bottom: 16px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .carousel { position: relative; display: flex; align-items: center; justify-content: center; min-height: 400px; }
        .carousel-btn {
            background: #ffe0b5; border: 3px solid #ffad8a; color: #593c34;
            width: 44px; height: 44px; border-radius: 50%;
            font-size: 1.8rem; display: flex; align-items: center; justify-content: center;
            cursor: pointer; box-shadow: 0 5px 0 #b37b66; transition: 0.06s;
            position: absolute; z-index: 10;
        }
        .carousel-btn:active { transform: translateY(5px); box-shadow: 0 1px 0 #b37b66; }
        .carousel-prev { left: -5px; }
        .carousel-next { right: -5px; }
        .carousel-slide { display: none; flex-direction: column; align-items: center; gap: 16px; width: 100%; }
        .carousel-slide.active { display: flex; }
        .device-wrapper { display: flex; flex-direction: column; align-items: center; gap: 12px; }
        .device-label { font-size: 1.1rem; font-weight: 600; color: #593c34; background: #ffe8dd; padding: 6px 20px; border-radius: 40px; border: 2px solid #ffad8a; }
        .device-phone { width: 200px; height: 400px; background: #1a1a1a; border-radius: 30px; padding: 8px; position: relative; box-shadow: 0 15px 25px rgba(0,0,0,0.5); border: 2px solid #5a5a5a; }
        .phone-screen { width: 100%; height: 100%; background: black; border-radius: 24px; overflow: hidden; border: 2px solid #2a2a2a; }
        .phone-notch { position: absolute; top: 8px; left: 50%; transform: translateX(-50%); width: 70px; height: 20px; background: #1a1a1a; border-radius: 16px; display: flex; justify-content: center; align-items: center; gap: 6px; z-index: 10; border: 1px solid #444; }
        .phone-camera { width: 8px; height: 8px; background: radial-gradient(#666, #222); border-radius: 50%; border: 1px solid #888; }
        .phone-speaker { width: 25px; height: 4px; background: #222; border-radius: 4px; border: 1px solid #555; }
        .phone-home-bar { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); width: 80px; height: 4px; background: rgba(255,255,255,0.3); border-radius: 10px; }
        .side-button { position: absolute; right: -6px; width: 4px; height: 35px; background: linear-gradient(to right, #777, #333); border-radius: 4px 0 0 4px; }
        .volume-up { top: 90px; }
        .volume-down { top: 140px; }
        .power { top: 240px; height: 45px; }
        .device-laptop { width: 300px; perspective: 1000px; }
        .laptop-body { background: linear-gradient(145deg, #2a2a2a, #1a1a1a); border-radius: 10px; padding: 8px; border: 2px solid #444; }
        .laptop-bezel { background: #0a0a0a; border-radius: 6px; padding: 5px; box-shadow: inset 0 0 0 2px #333; }
        .laptop-screen { background: black; border-radius: 4px; width: 100%; aspect-ratio: 16/10; overflow: hidden; border: 1px solid #3a3a3a; position: relative; }
        .laptop-camera { position: absolute; top: 6px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; background: radial-gradient(#777, #222); border-radius: 50%; border: 1px solid #999; }
        .laptop-base { width: 100%; height: 18px; background: linear-gradient(to bottom, #3a3a3a, #1a1a1a); border-radius: 0 0 8px 8px; margin-top: -2px; box-shadow: 0 8px 12px rgba(0,0,0,0.4); border-bottom: 2px solid #555; position: relative; }
        .laptop-keyboard { width: 90%; height: 10px; background: #222; margin: 0 auto; border-radius: 4px; top: -4px; position: relative; box-shadow: inset 0 2px 5px black; }
        .device-monitor { width: 300px; }
        .monitor-body { background: linear-gradient(145deg, #2a2a2a, #1a1a1a); border-radius: 10px; padding: 10px; border: 2px solid #444; }
        .monitor-bezel { background: #0a0a0a; border-radius: 6px; padding: 6px; box-shadow: inset 0 0 0 2px #333; }
        .monitor-screen { background: black; border-radius: 4px; width: 100%; aspect-ratio: 16/9; overflow: hidden; border: 1px solid #3a3a3a; }
        .monitor-stand { width: 70px; height: 35px; background: linear-gradient(to right, #4a4a4a, #2a2a2a); margin: 0 auto; border-radius: 0 0 8px 8px; border-bottom: 2px solid #666; }
        .monitor-base { width: 120px; height: 8px; background: linear-gradient(to bottom, #5a5a5a, #3a3a3a); margin: 0 auto; border-radius: 8px; }
        .device-tablet { width: 220px; height: 300px; background: linear-gradient(145deg, #1e1e1e, #0a0a0a); border-radius: 28px; padding: 10px; border: 2px solid #444; box-shadow: 0 15px 25px rgba(0,0,0,0.5); }
        .tablet-bezel { background: #0a0a0a; border-radius: 20px; padding: 5px; height: 100%; box-shadow: inset 0 0 0 2px #2a2a2a; }
        .tablet-screen { background: black; border-radius: 16px; width: 100%; height: 100%; overflow: hidden; border: 1px solid #3a3a3a; }
        .tablet-camera { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; background: radial-gradient(#777, #222); border-radius: 50%; border: 1px solid #999; }
        .tablet-home-bar { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); width: 50px; height: 4px; background: rgba(255,255,255,0.3); border-radius: 8px; }
        .device-wallpaper { width: 100%; height: 100%; object-fit: cover; display: block; background-color: black; }
        .dots { display: flex; justify-content: center; gap: 10px; margin-top: 20px; }
        .dot { width: 12px; height: 12px; border-radius: 50%; background: #ffc6ad; border: 2px solid #ff8f6b; cursor: pointer; }
        .dot.active { background: #ff7b5c; border-color: #a8422a; transform: scale(1.2); }
        .devices-close-btn { background: #ffe0b5; padding: 12px 30px; border-radius: 50px; border: 4px solid #ffad8a; font-weight: 700; box-shadow: 0 6px 0 #b37b66; cursor: pointer; display: inline-block; margin-top: 20px; }
        .devices-close-btn:active { transform: translateY(6px); box-shadow: 0 1px 0 #b37b66; }
        @media (max-width: 600px) {
            .device-phone { width: 160px; height: 320px; }
            .device-laptop { width: 240px; }
            .device-monitor { width: 240px; }
            .device-tablet { width: 180px; height: 240px; }
            .carousel-btn { width: 36px; height: 36px; font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- top bar -->
        <div class="top-bar">
            <button class="whats-this-btn" id="infoButton"><span style="font-size:1.4rem;">‚ú®</span> What's this?</button>
            <div class="countdown-block">
                <span class="winner-note">üèÜ Winner in</span>
                <span class="countdown-number" id="countdownDisplay">00:00:00</span>
                <span style="background:#ffc6ad; padding:4px 10px; border-radius:30px;">UTC+0</span>
            </div>
        </div>

        <!-- VALUE PROPOSITION -->
        <div class="value-prop">
            <span>‚ú® FREE DAILY</span>
            High-quality AI wallpapers, download free. Fresh batch every day ‚Äì vote for your favorite!
        </div>

        <!-- üéÅ CONTEST BANNER -->
        <div class="contest-banner">
            <span class="contest-text">üèÜ Vote & Win a Shoutout!</span>
            <button class="contest-btn" id="contestBtn">Learn More</button>
        </div>

        <!-- Info popup (What's this?) -->
        <div id="infoPopup" class="info-popup">
            <button class="close-popup" id="closePopup">&times;</button>
            <h3 style="font-size:1.8rem;">üå∏ daily cup</h3>
            <p style="font-size:1.1rem; font-weight: 600;">4 wallpapers. 1 winner. you decide.</p>
            <p style="margin:16px 0;">‚¨© Vote ‚Äì feel the love ‚ù§Ô∏è<br>‚¨© Download free<br>‚¨© At midnight UTC most votes+downloads = WINNER.<br>‚¨© Fresh batch every day ‚ú®</p>
            <p style="background:#ffe1d4; padding:12px; border-radius:18px;">
            üëë <strong>Come back EVERY DAY!</strong> New wallpapers, new winner.
            </p>
        </div>

        <!-- Contest popup -->
        <div id="contestPopup" class="info-popup">
            <button class="close-popup" id="closeContestPopup">&times;</button>
            <h3 style="font-size:2rem;">üéÅ Vote & Win!</h3>
            <p style="font-size:1.2rem; margin:20px 0;">Every vote you cast enters you into our weekly draw.</p>
            <p style="background:#ffe1d4; padding:16px; border-radius:24px; font-size:1.1rem;">
            üèÜ One lucky voter each week gets a <strong>personal shoutout</strong> on our homepage and social media!<br><br>
            üëâ Vote daily to increase your chances.
            </p>
            <p style="color:#6b4b3e; margin-top:20px;">Winner announced every Monday.</p>
        </div>

        <!-- daily headline ‚Äì double‚Äëclick opens admin panel -->
        <div class="daily-headline">
            <h2 id="adminTrigger">üê£ today's wallpapers</h2>
            <p>vote + download = happy</p>
        </div>
        
        <!-- 4 WALLPAPER GRID -->
        <div class="wallpaper-grid" id="wallGrid"></div>
        
        <!-- CUTE PUZZLE BUTTON -->
        <div class="puzzle-launch">
            <div class="puzzle-btn" id="openPuzzleBtn">
                <span>üß©</span> play puzzle
            </div>
        </div>

        <!-- üèÜ WINNER OF THE WEEK -->
        <div class="winner-week-section" id="winnerWeekSection">
            <div class="winner-week-title">
                <h3>üèÜ Winner of the Week</h3>
                <span class="winner-week-badge">‚≠ê crowned ‚≠ê</span>
            </div>
            <div id="winnerWeekContent" class="winner-week-card">
                <!-- filled dynamically -->
            </div>
        </div>

        <!-- HALL OF FAME -->
        <div class="winner-history-section">
            <div class="history-header">
                <h3>üèÜ Past Winners</h3>
                <span>hall of fame</span>
            </div>
            <div id="winnersGrid" class="winners-grid"></div>
        </div>

        <div style="display: flex; justify-content: center; margin-top: 12px;">
            <span class="winner-badge">üåü golden shine = current leader</span>
        </div>

        <!-- üõ†Ô∏è ADMIN PANEL (double‚Äëclick headline to open) -->
        <div id="adminPanel" class="admin-panel">
            <div class="admin-title">üìã Update Tomorrow's Wallpapers</div>
            <p style="margin-bottom:12px;">Paste 4 image URLs and titles (comma separated):</p>
            <input type="text" id="adminUrl1" class="admin-input" placeholder="Image URL 1">
            <input type="text" id="adminTitle1" class="admin-input" placeholder="Title 1">
            <input type="text" id="adminUrl2" class="admin-input" placeholder="Image URL 2">
            <input type="text" id="adminTitle2" class="admin-input" placeholder="Title 2">
            <input type="text" id="adminUrl3" class="admin-input" placeholder="Image URL 3">
            <input type="text" id="adminTitle3" class="admin-input" placeholder="Title 3">
            <input type="text" id="adminUrl4" class="admin-input" placeholder="Image URL 4">
            <input type="text" id="adminTitle4" class="admin-input" placeholder="Title 4">
            <button id="adminSaveBtn" class="admin-btn">üíæ Save & Start New Day</button>
            <button id="adminCloseBtn" class="admin-btn" style="background:#b37b66;">‚úï Close</button>
        </div>
        
        <!-- FOOTER -->
        <div class="footer-links">
            <a id="footerAbout" href="javascript:void(0)">About</a>
            <a id="footerPrivacy" href="javascript:void(0)">Privacy Policy</a>
            <a id="footerTerms" href="javascript:void(0)">Terms of Service</a>
            <a id="footerCookies" href="javascript:void(0)">Cookie Settings</a>
            <a id="footerAdChoices" href="javascript:void(0)">Ad Choices</a>
            <a id="footerContact" href="javascript:void(0)">Contact</a>
            <a id="footerHome" href="javascript:void(0)">Wallrank.club</a>
            <div class="copyright">
                ¬© 2026 WallRank.club ‚Äì Daily AI wallpaper cup.<br>
                This site is protected by reCAPTCHA and the Google Privacy Policy and Terms of Service apply.
            </div>
        </div>
    </div>

    <!-- ========== POPUPS & OVERLAYS ========== -->
    <div id="footerPopup" class="info-popup">
        <button class="close-popup" id="closeFooterPopup">&times;</button>
        <div id="footerPopupContent">
            <h3 style="font-size:1.8rem;">‚ú® page placeholder</h3>
            <p style="font-size:1.1rem; margin:20px 0;">We're crafting something beautiful. Check back soon!</p>
            <p style="background:#ffe1d4; padding:12px; border-radius:18px;">üå∏ daily cup team</p>
        </div>
    </div>
    <div id="contactPopup" class="info-popup">
        <button class="close-popup" id="closeContactPopup">&times;</button>
        <h3 style="font-size:1.8rem;">üì¨ contact</h3>
        <p style="font-size:1.3rem; background:#ffe8dd; padding:16px; border-radius:60px; margin:20px 0; word-break:break-all;">
            üìß kabanijames9@gmail.com
        </p>
        <p style="color:#6b4b3e;">We'll reply within 24h ‚ú®</p>
    </div>

    <!-- PUZZLE OVERLAY -->
    <div id="puzzleOverlay" class="puzzle-overlay">
        <div class="puzzle-card" id="puzzleCard">
            <div id="step1">
                <div class="puzzle-title">üß© choose one</div>
                <div class="puzzle-selector" id="puzzleSelector"></div>
            </div>
            <div id="step2" style="display: none;">
                <div class="puzzle-title" id="selectedTitle">üåø misty forest</div>
                <div id="puzzleGridContainer" class="puzzle-grid"></div>
                <button class="btn-small" id="shuffleBtn" style="margin-top:16px;">üîÄ shuffle</button>
            </div>
            <div id="step3" style="display: none;">
                <div class="celebration-8s" id="celebrationMessage">üéâ‚ú® PERFECT! ‚ú®üéâ</div>
                <div id="afterCelebration" style="display: none;">
                    <button class="btn-small" id="saveMemoryBtn">üì∏ save this memory</button>
                    <button class="btn-small" id="tellOthersBtn">üì¢ tell others</button>
                </div>
            </div>
            <div id="saveOptions" style="display: none;">
                <div style="font-size:1.4rem; margin:12px 0;">üíæ save as</div>
                <button class="btn-small" id="saveWithNameBtn">üñãÔ∏è with your name</button>
                <button class="btn-small" id="saveSimpleBtn">‚¨áÔ∏è simple download</button>
                <div id="nameInputArea" style="display: none; margin-top:16px;">
                    <input type="text" id="userName" placeholder="your name" class="signature-input">
                    <button class="btn-small" id="generateSignedWallpaper">create & download</button>
                </div>
                <canvas id="signatureCanvas" style="display: none;"></canvas>
            </div>
            <div id="shareOptions" style="display: none;">
                <div style="font-size:1.4rem; margin-bottom:16px;">üîó share this puzzle</div>
                <div style="background:#ffe8dd; padding:10px; border-radius:60px; word-break:break-all;">
                    <span id="shareLink">https://wallrank.club/puzzle/winner</span>
                </div>
                <div class="social-icons" style="display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin:20px 0 10px;">
                    <div class="social-icon" data-share="fb" style="background:#ffdcc2; padding:10px; border-radius:50%; font-size:1.5rem; width:50px; height:50px; display:flex; align-items:center; justify-content:center; border:2px solid white; box-shadow:0 4px 0 #c47a5e; cursor:pointer;">üìò</div>
                    <div class="social-icon" data-share="ig" style="background:#ffdcc2; padding:10px; border-radius:50%; font-size:1.5rem; width:50px; height:50px; display:flex; align-items:center; justify-content:center; border:2px solid white; box-shadow:0 4px 0 #c47a5e; cursor:pointer;">üì∑</div>
                    <div class="social-icon" data-share="pin" style="background:#ffdcc2; padding:10px; border-radius:50%; font-size:1.5rem; width:50px; height:50px; display:flex; align-items:center; justify-content:center; border:2px solid white; box-shadow:0 4px 0 #c47a5e; cursor:pointer;">üìå</div>
                    <div class="social-icon" data-share="tw" style="background:#ffdcc2; padding:10px; border-radius:50%; font-size:1.5rem; width:50px; height:50px; display:flex; align-items:center; justify-content:center; border:2px solid white; box-shadow:0 4px 0 #c47a5e; cursor:pointer;">üê¶</div>
                    <div class="social-icon" data-share="snap" style="background:#ffdcc2; padding:10px; border-radius:50%; font-size:1.5rem; width:50px; height:50px; display:flex; align-items:center; justify-content:center; border:2px solid white; box-shadow:0 4px 0 #c47a5e; cursor:pointer;">üëª</div>
                    <div class="social-icon" data-share="email" style="background:#ffdcc2; padding:10px; border-radius:50%; font-size:1.5rem; width:50px; height:50px; display:flex; align-items:center; justify-content:center; border:2px solid white; box-shadow:0 4px 0 #c47a5e; cursor:pointer;">üìß</div>
                </div>
                <button class="btn-small" id="closeShareBtn">‚¨Ö back</button>
            </div>
            <button class="btn-small" id="closePuzzleBtn" style="margin-top:20px;">‚úï close</button>
        </div>
    </div>

    <!-- 4 DEVICES CAROUSEL -->
    <div id="devicesOverlay" class="devices-overlay">
        <div class="devices-container">
            <div class="devices-title"><span>üì±</span> view only <span>üñ•Ô∏è</span></div>
            <div class="carousel">
                <div class="carousel-btn carousel-prev" id="carouselPrev">‚Äπ</div>
                <div class="carousel-btn carousel-next" id="carouselNext">‚Ä∫</div>
                <!-- Phone -->
                <div class="carousel-slide" id="slidePhone">
                    <div class="device-wrapper">
                        <div class="device-phone">
                            <div class="side-button volume-up"></div>
                            <div class="side-button volume-down"></div>
                            <div class="side-button power"></div>
                            <div class="phone-screen">
                                <div class="phone-notch">
                                    <div class="phone-camera"></div>
                                    <div class="phone-speaker"></div>
                                    <div class="phone-camera"></div>
                                </div>
                                <img id="devicePhoneImg" class="device-wallpaper" src="" alt="wallpaper on phone">
                                <div class="phone-home-bar"></div>
                            </div>
                        </div>
                        <span class="device-label">üì± phone</span>
                    </div>
                </div>
                <!-- Laptop -->
                <div class="carousel-slide" id="slideLaptop">
                    <div class="device-wrapper">
                        <div class="device-laptop">
                            <div class="laptop-body">
                                <div class="laptop-bezel">
                                    <div class="laptop-screen">
                                        <img id="deviceLaptopImg" class="device-wallpaper" src="" alt="wallpaper on laptop">
                                        <div class="laptop-camera"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="laptop-base">
                                <div class="laptop-keyboard"></div>
                            </div>
                        </div>
                        <span class="device-label">üíª laptop</span>
                    </div>
                </div>
                <!-- Monitor -->
                <div class="carousel-slide" id="slideMonitor">
                    <div class="device-wrapper">
                        <div class="device-monitor">
                            <div class="monitor-body">
                                <div class="monitor-bezel">
                                    <div class="monitor-screen">
                                        <img id="deviceMonitorImg" class="device-wallpaper" src="" alt="wallpaper on monitor">
                                    </div>
                                </div>
                            </div>
                            <div class="monitor-stand"></div>
                            <div class="monitor-base"></div>
                        </div>
                        <span class="device-label">üñ•Ô∏è monitor</span>
                    </div>
                </div>
                <!-- Tablet -->
                <div class="carousel-slide" id="slideTablet">
                    <div class="device-wrapper">
                        <div class="device-tablet">
                            <div class="tablet-bezel">
                                <div class="tablet-screen">
                                    <img id="deviceTabletImg" class="device-wallpaper" src="" alt="wallpaper on tablet">
                                    <div class="tablet-camera"></div>
                                    <div class="tablet-home-bar"></div>
                                </div>
                            </div>
                        </div>
                        <span class="device-label">üìü tablet</span>
                    </div>
                </div>
            </div>
            <div class="dots" id="carouselDots">
                <div class="dot active" data-index="0"></div>
                <div class="dot" data-index="1"></div>
                <div class="dot" data-index="2"></div>
                <div class="dot" data-index="3"></div>
            </div>
            <div class="devices-close-btn" id="closeDevicesBtn">‚úï close</div>
        </div>
    </div>

    <div class="seo-hidden">daily wallpaper vote puzzle 4K free AI winner midnight UTC wallrank.club hall of fame</div>

    <script>
        (function() {
            'use strict';
            
            // =====================================================================
            // üìÖ TODAY'S WALLPAPERS ‚Äì fresh, working images (Feb 13, 2026)
            // =====================================================================
            let wallpapers = [
                { id: 1, title: "üèîÔ∏è alpine dawn", filename: "https://images.pexels.com/photos/2387873/pexels-photo-2387873.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", votes: 0, downloads: 0 },
                { id: 2, title: "üåå cosmic dust", filename: "https://images.pexels.com/photos/41949/hubble-galaxy-stars-universe-41949.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", votes: 0, downloads: 0 },
                { id: 3, title: "üèûÔ∏è emerald lake", filename: "https://images.pexels.com/photos/417074/pexels-photo-417074.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", votes: 0, downloads: 0 },
                { id: 4, title: "üå∫ tropical bloom", filename: "https://images.pexels.com/photos/1227513/pexels-photo-1227513.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", votes: 0, downloads: 0 }
            ];
            
            // üìÖ TOMORROW'S WALLPAPERS (admin can change)
            let tomorrowWallpapers = [
                { id: 1, title: "üèîÔ∏è alpine dawn", filename: "https://images.pexels.com/photos/2387873/pexels-photo-2387873.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", votes: 0, downloads: 0 },
                { id: 2, title: "üåå cosmic dust", filename: "https://images.pexels.com/photos/41949/hubble-galaxy-stars-universe-41949.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", votes: 0, downloads: 0 },
                { id: 3, title: "üèûÔ∏è emerald lake", filename: "https://images.pexels.com/photos/417074/pexels-photo-417074.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", votes: 0, downloads: 0 },
                { id: 4, title: "üå∫ tropical bloom", filename: "https://images.pexels.com/photos/1227513/pexels-photo-1227513.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", votes: 0, downloads: 0 }
            ];
            // =====================================================================
            
            // ----- PAST WINNERS (HALL OF FAME) ‚Äì PRE‚ÄëLOADED WITH 3 AMAZING WINNERS -----
            let pastWinners = [];
            const PAST_WINNERS_KEY = 'wallrank_past_winners';
            
            function loadPastWinners() {
                const stored = localStorage.getItem(PAST_WINNERS_KEY);
                if (stored) {
                    try { pastWinners = JSON.parse(stored) || []; }
                    catch(e) { pastWinners = []; }
                } else {
                    // Preload sample winners if nothing in storage
                    pastWinners = [
                        { id: 101, title: "‚ùÑÔ∏è frozen peaks", filename: "https://images.pexels.com/photos/417074/pexels-photo-417074.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", date: "2026-02-10", votes: 24, downloads: 18 },
                        { id: 102, title: "üåÖ golden horizon", filename: "https://images.pexels.com/photos/2387873/pexels-photo-2387873.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", date: "2026-02-09", votes: 31, downloads: 22 },
                        { id: 103, title: "üåÄ neon city", filename: "https://images.pexels.com/photos/3104525/pexels-photo-3104525.jpeg?auto=compress&cs=tinysrgb&w=600&h=750&fit=crop", date: "2026-02-08", votes: 19, downloads: 14 }
                    ];
                    localStorage.setItem(PAST_WINNERS_KEY, JSON.stringify(pastWinners));
                }
            }
            function savePastWinners() {
                if (pastWinners.length > 12) pastWinners = pastWinners.slice(0, 12);
                localStorage.setItem(PAST_WINNERS_KEY, JSON.stringify(pastWinners));
            }
            function addWinnerToHistory(winnerId, date) {
                const wp = wallpapers.find(w => w.id === winnerId);
                if (!wp) return;
                pastWinners.unshift({
                    id: winnerId,
                    title: wp.title,
                    filename: wp.filename,
                    votes: wp.votes,
                    downloads: wp.downloads,
                    date: date || new Date().toISOString().split('T')[0]
                });
                savePastWinners();
                renderWinnersHistory();
                updateWinnerOfTheWeek();
            }
            function renderWinnersHistory() {
                const grid = document.getElementById('winnersGrid');
                if (!grid) return;
                if (!pastWinners.length) {
                    grid.innerHTML = '<div class="empty-history">‚ú® No past winners yet. Be the first to vote!</div>';
                    return;
                }
                let html = '';
                pastWinners.slice(0, 8).forEach(w => {
                    html += `<div class="winner-item">
                        <div class="winner-thumb"><img src="${w.filename}" alt="${w.title}" loading="lazy"></div>
                        <div class="winner-title">${w.title}</div>
                        <div class="winner-date">üèÜ ${w.date}</div>
                    </div>`;
                });
                grid.innerHTML = html;
            }

            // üèÜ WINNER OF THE WEEK
            function updateWinnerOfTheWeek() {
                const container = document.getElementById('winnerWeekContent');
                if (!container) return;
                if (pastWinners.length === 0) {
                    container.innerHTML = '<p style="padding:20px;">‚ú® No winner yet ‚Äì be the first!</p>';
                    return;
                }
                const lastWinner = pastWinners[0];
                container.innerHTML = `
                    <div class="winner-week-thumb">
                        <img src="${lastWinner.filename}" alt="${lastWinner.title}">
                    </div>
                    <div class="winner-week-info">
                        <div class="winner-week-name">${lastWinner.title}</div>
                        <div class="winner-week-date">üèÜ crowned on ${lastWinner.date}</div>
                        <div style="display:flex; gap:16px; margin-top:8px;">
                            <span>‚ù§Ô∏è ${lastWinner.votes} votes</span>
                            <span>‚¨áÔ∏è ${lastWinner.downloads} downloads</span>
                        </div>
                    </div>
                `;
            }
            
            // ----- voting & golden leader -----
            function getTodayKey() { const d = new Date(); return `${d.getUTCFullYear()}-${d.getUTCMonth()}-${d.getUTCDate()}`; }
            const todayKey = getTodayKey();
            let userVoteRecord = {};
            function loadVoteRecord() {
                const stored = localStorage.getItem(`voteRecord_${todayKey}`);
                userVoteRecord = stored ? (JSON.parse(stored) || {}) : {};
            }
            function saveVoteRecord() { localStorage.setItem(`voteRecord_${todayKey}`, JSON.stringify(userVoteRecord)); }
            loadVoteRecord();
            
            // Load saved votes/downloads for today
            wallpapers.forEach(w => {
                let saved = localStorage.getItem(`dailyWall_${w.id}_${todayKey}`);
                if (saved) { saved = JSON.parse(saved); w.votes = saved.votes || 0; w.downloads = saved.downloads || 0; }
            });
            
            const grid = document.getElementById('wallGrid');
            let votingActive = true;
            let winnerId = null;
            
            function renderCards() {
                grid.innerHTML = '';
                wallpapers.forEach((wp) => {
                    const card = document.createElement('div'); card.className = 'wall-card'; card.dataset.id = wp.id;
                    let imgHTML = `<div class="img-container"><img src="${wp.filename}" alt="${wp.title}" loading="lazy"></div>`;
                    let stats = `<div class="stats"><span>‚ù§Ô∏è ${wp.votes}</span><span>‚¨áÔ∏è ${wp.downloads}</span></div>`;
                    let buttons = '';
                    if (votingActive) {
                        buttons = `<div class="button-group">
                            <button class="btn btn-vote" data-action="vote" data-id="${wp.id}">üëç vote</button>
                            <button class="btn btn-download" data-action="download" data-id="${wp.id}">üíæ get</button>
                            <button class="btn btn-devices" data-action="devices" data-id="${wp.id}">üì± view only</button>
                        </div>`;
                    } else {
                        if (wp.id === winnerId) {
                            buttons = `<div class="button-group">
                                <button class="btn btn-download" data-action="download" data-id="${wp.id}">üíæ get</button>
                                <button class="btn btn-devices" data-action="devices" data-id="${wp.id}">üì± view only</button>
                            </div>`;
                            card.classList.add('leader-gold');
                        } else {
                            imgHTML = `<div class="img-container" style="background: #ffd8bf; display: flex; align-items: center; justify-content: center;"><span style="font-size: 1.2rem; color: #8a6a5b;">üó≥Ô∏è voting ended</span></div>`;
                            stats = `<div class="stats"><span>‚ù§Ô∏è ${wp.votes}</span><span>‚¨áÔ∏è ${wp.downloads}</span></div>`;
                            buttons = `<div class="button-group"><button class="btn btn-devices" data-action="devices" data-id="${wp.id}">üì± view only</button></div>`;
                        }
                    }
                    card.innerHTML = imgHTML + `<div class="card-content"><div class="wall-title">${wp.title}</div>${stats}${buttons}</div>`;
                    grid.appendChild(card);
                });
                if (votingActive) updateGoldenLeader();
            }
            
            function calculateLeaderId() {
                let leaderId = null, maxScore = -1;
                wallpapers.forEach(w => { const s = w.votes + w.downloads; if (s > maxScore) { maxScore = s; leaderId = w.id; } });
                if (maxScore === 0 && votingActive) {
                    const randomIndex = Math.floor(Math.random() * wallpapers.length);
                    leaderId = wallpapers[randomIndex].id;
                }
                return leaderId;
            }
            function updateGoldenLeader() {
                document.querySelectorAll('.wall-card').forEach(c => c.classList.remove('leader-gold'));
                if (!votingActive) return;
                const leaderId = calculateLeaderId();
                if (leaderId) {
                    const leaderCard = document.querySelector(`.wall-card[data-id="${leaderId}"]`);
                    if (leaderCard) leaderCard.classList.add('leader-gold');
                }
            }
            
            function createReaction(x, y, emoji = '‚ù§Ô∏è') {
                const reaction = document.createElement('div');
                reaction.className = 'reaction-emoji';
                reaction.textContent = emoji;
                reaction.style.left = (x - 25) + 'px';
                reaction.style.top = (y - 35) + 'px';
                document.body.appendChild(reaction);
                setTimeout(() => reaction.remove(), 800);
            }

            function addConfetti() {
                for (let i = 0; i < 25; i++) {
                    const conf = document.createElement('div');
                    conf.className = 'confetti';
                    conf.style.left = Math.random() * 100 + '%';
                    conf.style.animationDelay = Math.random() * 2 + 's';
                    conf.style.background = `hsl(${Math.random() * 360}, 80%, 70%)`;
                    conf.style.width = Math.random() * 12 + 6 + 'px';
                    conf.style.height = conf.style.width;
                    const el = document.querySelector('.celebration-8s');
                    if (el) { el.appendChild(conf); setTimeout(() => conf.remove(), 2000); }
                }
            }
            
            function handleVote(id, event) {
                if (!votingActive) { createReaction(event.clientX, event.clientY, '‚è≥'); return; }
                const wp = wallpapers.find(w => w.id === id);
                if (!wp) return;
                if (userVoteRecord[id]) {
                    const btn = document.querySelector(`.wall-card[data-id="${id}"] .btn-vote`);
                    if (btn) { btn.classList.add('clicked'); btn.innerHTML = '‚ö†Ô∏è already voted'; setTimeout(() => { btn.classList.remove('clicked'); btn.innerHTML = 'üëç vote'; }, 1200); }
                    createReaction(event.clientX, event.clientY, '‚è≥');
                    return;
                }
                wp.votes += 1;
                localStorage.setItem(`dailyWall_${id}_${todayKey}`, JSON.stringify({ votes: wp.votes, downloads: wp.downloads }));
                userVoteRecord[id] = true;
                saveVoteRecord();
                const card = document.querySelector(`.wall-card[data-id="${id}"]`);
                if (card) {
                    card.querySelector('.stats').innerHTML = `<span>‚ù§Ô∏è ${wp.votes}</span><span>‚¨áÔ∏è ${wp.downloads}</span>`;
                    const btn = card.querySelector('.btn-vote');
                    btn.classList.add('clicked'); btn.innerHTML = '‚úì voted!';
                    setTimeout(() => { btn.classList.remove('clicked'); btn.innerHTML = 'üëç vote'; }, 1000);
                }
                gtag('event', 'vote_cast', { 'event_category': 'engagement', 'event_label': wp.title });
                createReaction(event.clientX, event.clientY, '‚ù§Ô∏èüî•');
                updateGoldenLeader();
            }
            
            function handleDownload(id, event) {
                const wp = wallpapers.find(w => w.id === id);
                if (!wp) return;
                wp.downloads += 1;
                localStorage.setItem(`dailyWall_${id}_${todayKey}`, JSON.stringify({ votes: wp.votes, downloads: wp.downloads }));
                const card = document.querySelector(`.wall-card[data-id="${id}"]`);
                if (card) {
                    card.querySelector('.stats').innerHTML = `<span>‚ù§Ô∏è ${wp.votes}</span><span>‚¨áÔ∏è ${wp.downloads}</span>`;
                    const btn = card.querySelector('.btn-download');
                    btn.classList.add('clicked'); btn.innerHTML = '‚úì saved!';
                    setTimeout(() => { btn.classList.remove('clicked'); btn.innerHTML = 'üíæ get'; }, 1200);
                }
                const link = document.createElement('a');
                link.href = wp.filename;
                link.target = '_blank';
                link.rel = 'noopener';
                link.click();
                gtag('event', 'download_wall', { 'event_category': 'download', 'event_label': wp.title });
                createReaction(event.clientX, event.clientY, 'üíæ‚ú®');
                updateGoldenLeader();
            }
            
            // ========== 4 DEVICES CAROUSEL ==========
            const devicesOverlay = document.getElementById('devicesOverlay');
            const devicePhoneImg = document.getElementById('devicePhoneImg');
            const deviceLaptopImg = document.getElementById('deviceLaptopImg');
            const deviceMonitorImg = document.getElementById('deviceMonitorImg');
            const deviceTabletImg = document.getElementById('deviceTabletImg');
            const closeDevicesBtn = document.getElementById('closeDevicesBtn');
            const slides = [
                document.getElementById('slidePhone'),
                document.getElementById('slideLaptop'),
                document.getElementById('slideMonitor'),
                document.getElementById('slideTablet')
            ];
            const dots = document.querySelectorAll('.dot');
            const prevBtn = document.getElementById('carouselPrev');
            const nextBtn = document.getElementById('carouselNext');
            let currentSlide = 0;
            
            function showSlide(index) {
                slides.forEach((s, i) => s?.classList.toggle('active', i === index));
                dots.forEach((d, i) => d?.classList.toggle('active', i === index));
                currentSlide = index;
            }
            prevBtn?.addEventListener('click', () => showSlide((currentSlide - 1 + slides.length) % slides.length));
            nextBtn?.addEventListener('click', () => showSlide((currentSlide + 1) % slides.length));
            dots.forEach((dot, i) => dot?.addEventListener('click', () => showSlide(i)));
            
            function handleDevices(id, event) {
                const wp = wallpapers.find(w => w.id === id);
                if (!wp) return;
                devicePhoneImg.src = wp.filename;
                deviceLaptopImg.src = wp.filename;
                deviceMonitorImg.src = wp.filename;
                deviceTabletImg.src = wp.filename;
                devicesOverlay.classList.add('active');
                showSlide(0);
                createReaction(event.clientX, event.clientY, 'üì±üñ•Ô∏è');
                gtag('event', 'view_on_devices', { 'event_category': 'engagement', 'event_label': wp.title });
            }
            closeDevicesBtn?.addEventListener('click', () => devicesOverlay.classList.remove('active'));
            devicesOverlay?.addEventListener('click', (e) => { if (e.target === devicesOverlay) devicesOverlay.classList.remove('active'); });
            
            // ========== MIDNIGHT DETECTION ‚Äì INSTANT WINNER, ADD TO HOF, NO AUTO‚ÄëLOAD ==========
            function checkMidnightAndWinner() {
                const now = new Date();
                if (now.getUTCHours() === 0 && now.getUTCMinutes() === 0 && now.getUTCSeconds() === 0 && votingActive) {
                    votingActive = false;
                    winnerId = calculateLeaderId();
                    renderCards();
                    
                    const yesterday = new Date(now);
                    yesterday.setDate(yesterday.getDate() - 1);
                    const dateStr = yesterday.toISOString().split('T')[0];
                    addWinnerToHistory(winnerId, dateStr);
                    
                    // ‚ùå NO auto‚Äëload of tomorrow's wallpapers ‚Äì cards stay in "voting ended" mode
                }
            }
            setInterval(checkMidnightAndWinner, 1000);
            
            // ========== ADMIN PANEL ==========
            const adminPanel = document.getElementById('adminPanel');
            const adminTrigger = document.getElementById('adminTrigger');
            adminTrigger.addEventListener('dblclick', () => {
                adminPanel.classList.toggle('show');
                document.getElementById('adminUrl1').value = tomorrowWallpapers[0].filename;
                document.getElementById('adminTitle1').value = tomorrowWallpapers[0].title;
                document.getElementById('adminUrl2').value = tomorrowWallpapers[1].filename;
                document.getElementById('adminTitle2').value = tomorrowWallpapers[1].title;
                document.getElementById('adminUrl3').value = tomorrowWallpapers[2].filename;
                document.getElementById('adminTitle3').value = tomorrowWallpapers[2].title;
                document.getElementById('adminUrl4').value = tomorrowWallpapers[3].filename;
                document.getElementById('adminTitle4').value = tomorrowWallpapers[3].title;
            });
            document.getElementById('adminCloseBtn').addEventListener('click', () => {
                adminPanel.classList.remove('show');
            });
            document.getElementById('adminSaveBtn').addEventListener('click', () => {
                tomorrowWallpapers = [
                    { id: 1, title: document.getElementById('adminTitle1').value || 'wallpaper 1', filename: document.getElementById('adminUrl1').value, votes: 0, downloads: 0 },
                    { id: 2, title: document.getElementById('adminTitle2').value || 'wallpaper 2', filename: document.getElementById('adminUrl2').value, votes: 0, downloads: 0 },
                    { id: 3, title: document.getElementById('adminTitle3').value || 'wallpaper 3', filename: document.getElementById('adminUrl3').value, votes: 0, downloads: 0 },
                    { id: 4, title: document.getElementById('adminTitle4').value || 'wallpaper 4', filename: document.getElementById('adminUrl4').value, votes: 0, downloads: 0 }
                ];
                // start new day
                for (let i = 0; i < wallpapers.length; i++) {
                    wallpapers[i].filename = tomorrowWallpapers[i].filename;
                    wallpapers[i].title = tomorrowWallpapers[i].title;
                    wallpapers[i].votes = 0;
                    wallpapers[i].downloads = 0;
                }
                votingActive = true;
                winnerId = null;
                userVoteRecord = {};
                saveVoteRecord();
                renderCards();
                adminPanel.classList.remove('show');
            });

            // ========== CONTEST POPUP ==========
            const contestBtn = document.getElementById('contestBtn');
            const contestPopup = document.getElementById('contestPopup');
            const closeContest = document.getElementById('closeContestPopup');
            contestBtn.addEventListener('click', (e) => {
                contestPopup.classList.add('show');
                createReaction(e.clientX, e.clientY, 'üéÅ');
            });
            closeContest.addEventListener('click', () => contestPopup.classList.remove('show'));
            window.addEventListener('click', (e) => { if (e.target === contestPopup) contestPopup.classList.remove('show'); });
            
            // ========== GLOBAL CLICK HANDLER ==========
            document.addEventListener('click', function(e) {
                const btn = e.target.closest('.btn');
                if (!btn) return;
                const action = btn.dataset.action;
                const id = btn.dataset.id ? parseInt(btn.dataset.id) : null;
                if (!id) return;
                if (action === 'vote') { e.preventDefault(); handleVote(id, e); }
                else if (action === 'download') { e.preventDefault(); handleDownload(id, e); }
                else if (action === 'devices') { e.preventDefault(); handleDevices(id, e); }
            });
            
            // ----- countdown -----
            function updateCountdown() {
                const now = new Date();
                const nextMidnight = new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() + 1, 0, 0, 0));
                const diff = nextMidnight - now;
                if (diff <= 0) { document.getElementById('countdownDisplay').innerText = '00:00:00'; return; }
                const h = Math.floor(diff / 3600000);
                const m = Math.floor((diff % 3600000) / 60000);
                const s = Math.floor((diff % 60000) / 1000);
                document.getElementById('countdownDisplay').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            }
            updateCountdown(); setInterval(updateCountdown, 1000);
            
            // info popup
            const infoBtn = document.getElementById('infoButton');
            const popup = document.getElementById('infoPopup');
            const closePopup = document.getElementById('closePopup');
            infoBtn?.addEventListener('click', (e) => { popup.classList.add('show'); createReaction(e.clientX, e.clientY, '‚ú®'); gtag('event','info_click'); });
            closePopup?.addEventListener('click', (e) => { popup.classList.remove('show'); createReaction(e.clientX, e.clientY, 'üîô'); });
            window.addEventListener('click', (e) => { if (e.target === popup) popup.classList.remove('show'); });
            
            // ========== PUZZLE MAGIC ‚Äì 3s CELEBRATION, TOUCH ENABLED ==========
            const overlay = document.getElementById('puzzleOverlay');
            const puzzleBtn = document.getElementById('openPuzzleBtn');
            const closePuzzleBtn = document.getElementById('closePuzzleBtn');
            const step1 = document.getElementById('step1');
            const step2 = document.getElementById('step2');
            const step3 = document.getElementById('step3');
            const puzzleSelector = document.getElementById('puzzleSelector');
            const puzzleGridContainer = document.getElementById('puzzleGridContainer');
            const selectedTitle = document.getElementById('selectedTitle');
            const shuffleBtn = document.getElementById('shuffleBtn');
            const celebrationMsg = document.getElementById('celebrationMessage');
            const afterCelebration = document.getElementById('afterCelebration');
            const saveMemoryBtn = document.getElementById('saveMemoryBtn');
            const tellOthersBtn = document.getElementById('tellOthersBtn');
            const saveOptions = document.getElementById('saveOptions');
            const shareOptions = document.getElementById('shareOptions');
            const saveWithNameBtn = document.getElementById('saveWithNameBtn');
            const saveSimpleBtn = document.getElementById('saveSimpleBtn');
            const nameInputArea = document.getElementById('nameInputArea');
            const userName = document.getElementById('userName');
            const generateSigned = document.getElementById('generateSignedWallpaper');
            const closeShareBtn = document.getElementById('closeShareBtn');
            const shareLink = document.getElementById('shareLink');
            
            let selectedWallpaper = null;
            let currentOrder = [];
            let puzzleSolved = false;
            let celebrationTimer;
            
            function initPuzzleSelector() {
                puzzleSelector.innerHTML = '';
                wallpapers.forEach(wp => {
                    const thumb = document.createElement('div');
                    thumb.className = 'puzzle-thumb';
                    thumb.dataset.id = wp.id;
                    thumb.innerHTML = `<img src="${wp.filename}" alt="${wp.title}">`;
                    thumb.addEventListener('click', (e) => {
                        selectedWallpaper = wp;
                        selectedTitle.innerText = wp.title;
                        step1.style.display = 'none';
                        step2.style.display = 'block';
                        step3.style.display = 'none';
                        saveOptions.style.display = 'none';
                        shareOptions.style.display = 'none';
                        initPuzzle(wp);
                        createReaction(e.clientX, e.clientY, 'üß©');
                    });
                    puzzleSelector.appendChild(thumb);
                });
            }
            
            function initPuzzle(wp) {
                puzzleSolved = false;
                clearTimeout(celebrationTimer);
                afterCelebration.style.display = 'none';
                closePuzzleBtn.style.display = 'inline-block';
                currentOrder = shuffleArray([0,1,2,3,4,5,6,7,8]);
                renderPuzzleGrid(wp);
            }
            
            function shuffleArray(arr) {
                for (let i = arr.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [arr[i], arr[j]] = [arr[j], arr[i]];
                }
                return arr;
            }
            
            function renderPuzzleGrid(wp) {
                puzzleGridContainer.innerHTML = '';
                for (let i = 0; i < 9; i++) {
                    const piece = document.createElement('div');
                    piece.className = 'puzzle-piece';
                    piece.draggable = true;
                    piece.dataset.pieceIndex = i;
                    const pieceId = currentOrder[i];
                    const row = Math.floor(pieceId / 3);
                    const col = pieceId % 3;
                    piece.style.backgroundImage = `url('${wp.filename}')`;
                    piece.style.backgroundSize = '300% 300%';
                    piece.style.backgroundPosition = `-${col * 33.33}% -${row * 33.33}%`;
                    
                    // drag events for mouse
                    piece.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('text/plain', e.target.dataset.pieceIndex);
                    });
                    piece.addEventListener('dragover', (e) => e.preventDefault());
                    piece.addEventListener('drop', (e) => {
                        e.preventDefault();
                        const fromIdx = parseInt(e.dataTransfer.getData('text/plain'));
                        const toIdx = parseInt(e.target.dataset.pieceIndex);
                        if (fromIdx === toIdx) return;
                        [currentOrder[fromIdx], currentOrder[toIdx]] = [currentOrder[toIdx], currentOrder[fromIdx]];
                        renderPuzzleGrid(wp);
                        checkVictory(wp);
                    });
                    
                    // touch events for mobile
                    piece.addEventListener('touchstart', (e) => {
                        e.preventDefault();
                        piece.dataset.dragIndex = piece.dataset.pieceIndex;
                    }, { passive: false });
                    piece.addEventListener('touchmove', (e) => {
                        e.preventDefault();
                    }, { passive: false });
                    piece.addEventListener('touchend', (e) => {
                        e.preventDefault();
                        const touch = e.changedTouches[0];
                        const target = document.elementFromPoint(touch.clientX, touch.clientY);
                        if (target && target.classList.contains('puzzle-piece')) {
                            const fromIdx = parseInt(piece.dataset.pieceIndex);
                            const toIdx = parseInt(target.dataset.pieceIndex);
                            if (fromIdx !== toIdx) {
                                [currentOrder[fromIdx], currentOrder[toIdx]] = [currentOrder[toIdx], currentOrder[fromIdx]];
                                renderPuzzleGrid(wp);
                                checkVictory(wp);
                            }
                        }
                    }, { passive: false });
                    
                    puzzleGridContainer.appendChild(piece);
                }
            }
            
            function checkVictory(wp) {
                let win = true;
                for (let i = 0; i < 9; i++) if (currentOrder[i] !== i) { win = false; break; }
                if (win && !puzzleSolved) {
                    puzzleSolved = true;
                    step2.style.display = 'none';
                    step3.style.display = 'block';
                    celebrationMsg.innerText = 'üéâ‚ú® PERFECT! ‚ú®üéâ';
                    afterCelebration.style.display = 'none';
                    closePuzzleBtn.style.display = 'none';
                    addConfetti();
                    celebrationTimer = setTimeout(() => {
                        afterCelebration.style.display = 'block';
                        closePuzzleBtn.style.display = 'inline-block';
                    }, 3000);
                }
            }
            
            shuffleBtn?.addEventListener('click', (e) => {
                if (selectedWallpaper) {
                    currentOrder = shuffleArray([0,1,2,3,4,5,6,7,8]);
                    renderPuzzleGrid(selectedWallpaper);
                    createReaction(e.clientX, e.clientY, 'üîÑ');
                }
            });
            puzzleBtn?.addEventListener('click', (e) => {
                overlay.classList.add('active');
                step1.style.display = 'block';
                step2.style.display = 'none';
                step3.style.display = 'none';
                saveOptions.style.display = 'none';
                shareOptions.style.display = 'none';
                initPuzzleSelector();
                createReaction(e.clientX, e.clientY, 'üß©‚ú®');
            });
            closePuzzleBtn?.addEventListener('click', (e) => {
                overlay.classList.remove('active');
                clearTimeout(celebrationTimer);
                createReaction(e.clientX, e.clientY, 'üîö');
            });
            saveMemoryBtn?.addEventListener('click', (e) => { step3.style.display = 'none'; saveOptions.style.display = 'block'; createReaction(e.clientX, e.clientY, 'üíæ‚ù§Ô∏è'); });
            tellOthersBtn?.addEventListener('click', (e) => { step3.style.display = 'none'; shareOptions.style.display = 'block'; shareLink.innerText = `https://wallrank.club/puzzle/${selectedWallpaper?.id || 'daily'}?win=1`; createReaction(e.clientX, e.clientY, 'üì¢'); });
            saveSimpleBtn?.addEventListener('click', (e) => {
                const link = document.createElement('a');
                link.href = selectedWallpaper.filename;
                link.download = `wallrank-${selectedWallpaper.title.replace(/[^a-z0-9]/gi,'-')}.jpg`;
                link.click();
                saveOptions.style.display = 'none';
                step1.style.display = 'block';
                createReaction(e.clientX, e.clientY, '‚¨áÔ∏èüéâ');
            });
            saveWithNameBtn?.addEventListener('click', (e) => { nameInputArea.style.display = 'block'; createReaction(e.clientX, e.clientY, 'üñãÔ∏è'); });
            generateSigned?.addEventListener('click', (e) => {
                const name = userName.value.trim() || 'puzzle master';
                const canvas = document.getElementById('signatureCanvas');
                canvas.width = 600; canvas.height = 480;
                const ctx = canvas.getContext('2d');
                const img = new Image(); img.crossOrigin = 'anonymous'; img.src = selectedWallpaper.filename;
                img.onload = () => {
                    ctx.drawImage(img, 0, 0, 600, 480);
                    ctx.font = 'bold 32px Quicksand, cursive';
                    ctx.fillStyle = 'white';
                    ctx.shadowColor = 'black';
                    ctx.shadowBlur = 10;
                    ctx.fillText(`üß© SOLVED BY ${name}`, 50, 420);
                    const link = document.createElement('a');
                    link.download = `solved-by-${name}.png`;
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                    nameInputArea.style.display = 'none';
                    saveOptions.style.display = 'none';
                    step1.style.display = 'block';
                    userName.value = '';
                    createReaction(e.clientX, e.clientY, '‚úÖüñºÔ∏è');
                };
            });
            
            // social sharing
            document.querySelectorAll('.social-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    const platform = e.currentTarget.dataset.share;
                    const url = encodeURIComponent(shareLink.innerText);
                    let shareUrl = ''; let emoji = 'üîó';
                    if (platform === 'fb') { shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`; emoji = 'üìò'; }
                    else if (platform === 'tw') { shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=I solved the wallpaper puzzle!`; emoji = 'üê¶'; }
                    else if (platform === 'pin') { shareUrl = `https://pinterest.com/pin/create/button/?url=${url}`; emoji = 'üìå'; }
                    else if (platform === 'ig') { alert('üì∑ Share on Instagram ‚Äì take a screenshot!'); emoji = 'üì∑'; return; }
                    else if (platform === 'snap') { alert('üëª Snapchat ‚Äì screenshot & share!'); emoji = 'üëª'; return; }
                    else if (platform === 'email') { shareUrl = `mailto:?subject=Wallpaper puzzle&body=${url}`; emoji = 'üìß'; }
                    if (shareUrl) window.open(shareUrl, '_blank');
                    createReaction(e.clientX, e.clientY, emoji);
                    gtag('event', 'share_puzzle', { 'event_category': 'social', 'event_label': platform });
                });
            });
            closeShareBtn?.addEventListener('click', (e) => { shareOptions.style.display = 'none'; step1.style.display = 'block'; createReaction(e.clientX, e.clientY, 'üîô'); });
            
            // ---------- FOOTER LINK HANDLERS ‚Äì NO MORE 404! ----------
            const footerPopup = document.getElementById('footerPopup');
            const footerPopupContent = document.getElementById('footerPopupContent');
            const closeFooterPopup = document.getElementById('closeFooterPopup');
            function showFooterPopup(title, message) {
                footerPopupContent.innerHTML = `<h3 style="font-size:1.8rem;">‚ú® ${title}</h3><p style="font-size:1.1rem; margin:20px 0;">${message}</p><p style="background:#ffe1d4; padding:12px; border-radius:18px;">üå∏ daily cup team</p>`;
                footerPopup.classList.add('show');
            }
            document.getElementById('footerAbout')?.addEventListener('click', (e) => { showFooterPopup('about', 'We‚Äôre building a cozy corner for daily wallpaper lovers. Coming soon!'); createReaction(e.clientX, e.clientY, 'üìÑ'); });
            document.getElementById('footerPrivacy')?.addEventListener('click', (e) => { showFooterPopup('privacy policy', 'Your data is safe with us. Full policy coming soon.'); createReaction(e.clientX, e.clientY, 'üîí'); });
            document.getElementById('footerTerms')?.addEventListener('click', (e) => { showFooterPopup('terms of service', 'Be kind, vote fair, enjoy art. Details soon!'); createReaction(e.clientX, e.clientY, 'üìú'); });
            document.getElementById('footerCookies')?.addEventListener('click', (e) => { showFooterPopup('cookie settings', 'We use only essential cookies to make you smile. More info soon.'); createReaction(e.clientX, e.clientY, 'üç™'); });
            document.getElementById('footerAdChoices')?.addEventListener('click', (e) => { showFooterPopup('ad choices', 'We may show ads in the future ‚Äì always transparent. Details coming.'); createReaction(e.clientX, e.clientY, 'üì¢'); });
            document.getElementById('footerHome')?.addEventListener('click', (e) => { showFooterPopup('wallrank.club', 'You‚Äôre already home! üåü'); createReaction(e.clientX, e.clientY, 'üè†'); });
            
            const contactPopup = document.getElementById('contactPopup');
            const closeContactPopup = document.getElementById('closeContactPopup');
            document.getElementById('footerContact')?.addEventListener('click', (e) => { contactPopup.classList.add('show'); createReaction(e.clientX, e.clientY, 'üìß'); });
            closeContactPopup?.addEventListener('click', () => contactPopup.classList.remove('show'));
            window.addEventListener('click', (e) => { if (e.target === contactPopup) contactPopup.classList.remove('show'); });
            closeFooterPopup?.addEventListener('click', () => footerPopup.classList.remove('show'));
            window.addEventListener('click', (e) => { if (e.target === footerPopup) footerPopup.classList.remove('show'); });
            
            // ========== INITIALISE ==========
            loadPastWinners();
            renderWinnersHistory();
            updateWinnerOfTheWeek();
            renderCards();
        })();
    </script>
</body>
</html>
